(this["webpackJsonpexpandable-textarea-example"]=this["webpackJsonpexpandable-textarea-example"]||[]).push([[0],{10:function(e,t,n){e.exports={nav:"nav_nav__3AJrQ","router-link":"nav_router-link__1UheK"}},19:function(e,t,n){e.exports={"mockup-server":"mockup-server_mockup-server__2UAgk",updating:"mockup-server_updating__DUwPm","just-updated":"mockup-server_just-updated__1X6Mn"}},41:function(e,t,n){e.exports=n(83)},42:function(e,t,n){},83:function(e,t,n){"use strict";n.r(t);n(42);var a=n(0),r=n.n(a),i=n(34),l=n.n(i),o=n(3),c=n(9),s=n(1),u=n(10),m=n.n(u);function d(){return r.a.createElement("div",{className:m.a.nav},r.a.createElement("h3",null,"Expandable-textarea Examples"),r.a.createElement("div",null,r.a.createElement(c.b,{className:m.a["router-link"],to:"/expand-shrink"},"Expand-shrink"),r.a.createElement(c.b,{className:m.a["router-link"],to:"/input-like-field"},"Input-like-field"),r.a.createElement(c.b,{className:m.a["router-link"],to:"/focus-by-icon"},"Focus-by-icon"),r.a.createElement(c.b,{className:m.a["router-link"],to:"/credit-card-format"},"Credit-card-format"),r.a.createElement(c.b,{className:m.a["router-link"],to:"/password-format"},"Password-format"),r.a.createElement(c.b,{className:m.a["router-link"],to:"/phone-format"},"Phone-format"),r.a.createElement(c.b,{className:m.a["router-link"],to:"/custom-format"},"Custom-format")))}var f=n(36),p=n(40),h=n(6),b=n(37);function v(e={}){const t=e.maskString,n=void 0===t?"!!!!-!!!!-!!!!-!!!!":t,a=e.replaceChar,r=void 0===a?"!":a,i=e.validChar,l=void 0===i?/\d/g:i,o=e.preVisibleMask,c=void 0===o||o,s=e.rightToLeft,u=void 0!==s&&s;return e=>{let t=n,a=e.pressedKey,i=e.newSelectionStart,o=e.newValue;if(!e.valid)return Object(h.a)({},e);let s=(o.match(l)||[""]).join("");u&&(t=Array.from(t).reverse().join(""),o=Array.from(o).reverse().join(""),i=o.length-i,i=i<0?0:i);let m=!0;for(let n=0,c=o.length;n<c;++n){if(n>t.length){m=!1;break}if(t[n]===r&&!o[n].match(l)){m=!1;break}if(t[n]!==r&&o[n]!==t[n]){m=!1;break}}if(m&&"Delete"!==a&&"Backspace"!==a)return Object(h.a)(Object(h.a)({},e),{},{unformatedValue:s});u&&(s=(o.match(l)||[""]).join(""));const d=t.split(r).length-1,f=Math.min((o.slice(0,i).match(l)||[]).length,d);let p="",b=0,v=0,g=!1;for(let n=0,l=t.length;n<l;++n){let e=t[n],a=e===r,i=b<s.length?s[b]:"";if(a&&(g=!0),(b<f||!g)&&++v,a?(p+=i,++b):i&&(p+=e),!i&&c&&(p+=a?" ":e),!i&&!c)break}if(p[v]&&!p[v].match(l)&&"Delete"===a){if(p.substring(v).match(l)){let e=t.substring(v).indexOf(r);v+=e>=0?e:0}}return u&&(p=Array.from(p).reverse().join(""),s=Array.from(s).reverse().join(""),v=p.length-v,v=v<0?0:v),Object(h.a)(Object(h.a)({},e),{},{unformatedValue:s,newValue:p,newSelectionStart:v,newSelectionEnd:v})}}var g=Object(a.forwardRef)((function(e,t){let n=e.beforeElement,i=e.afterElement,l=e.className,c=e.submitValue,s=e.initialValue,u=void 0===s?"":s,m=e.totalLines,d=e.minRows,v=e.maxRows,g=e.rows,E=e.formatFunction,S=e.resizeDebouncingDelay,w=void 0===S?300:S,x=e.fitInField,j=void 0!==x&&x,k=Object(p.a)(e,["beforeElement","afterElement","className","submitValue","initialValue","totalLines","minRows","maxRows","rows","formatFunction","resizeDebouncingDelay","fitInField"]);const F=Object(a.useRef)(),L=Object(a.useRef)(),O=Object(a.useRef)(),y=Object(a.useRef)({unformatedValue:void 0}),V=Object(a.useRef)(),C=Object(a.useState)({value:"",lineCount:d||1}),N=Object(o.a)(C,2),T=N[0],I=N[1],R=Object(b.a)(B,w),M=Object(o.a)(R,1)[0],_=["width","border","fontFamily","fontSize","fontWeight","fontVariant","fontStretch","boxSizing","paddingLeft","paddingRight"],D=k.name;function P(e,t){const n=A(e),a=H(F.current),r=a.cursorStart,i=a.cursorEnd,l=a.scrollTop,o=a.scrollLeft,c=t.length>e.length,s=A(t),u=m&&n>m&&!c;y.current=Object(h.a)(Object(h.a)({},y.current),{},{iniValue:e,iniLineCount:n,newValue:t,newLineCount:s,excessIsShrinking:u,increasing:c,newSelectionStart:r,newSelectionEnd:i,newScrollTop:l,newScrollLeft:o})}function z(){E&&(y.current=E(y.current));const e=y.current,t=e.valid,n=e.iniValue,a=e.newValue,r=e.iniLineCount,i=e.newLineCount;I(t?{value:a,lineCount:i}:{value:n,lineCount:r})}function A(e){return L.current.value=e,Math.floor(L.current.scrollHeight/V.current)}function B(){var e,t=Object(f.a)(_);try{for(t.s();!(e=t.n()).done;){let t=e.value;L.current.style[t]=getComputedStyle(F.current)[t],"border"!==t&&(O.current.style[t]=getComputedStyle(F.current)[t])}}catch(n){t.e(n)}finally{t.f()}V.current=parseInt(getComputedStyle(O.current).height,10),L.current.style.height="".concat(V.current,"px")}function H(e){return{cursorStart:e.selectionStart,cursorEnd:e.selectionEnd,scrollTop:e.scrollTop,scrollLeft:e.scrollLeft}}function K(e){const t=H(F.current),n=t.cursorStart,a=t.cursorEnd,r=t.scrollTop,i=t.scrollLeft;y.current=Object(h.a)(Object(h.a)({},y.current),{},{iniSelectionStart:n,iniSelectionEnd:a,iniScrollTop:r,iniScrollLeft:i,pressedKey:e.key})}return c||(k.disabled=!0),k.wrap||(k.wrap=1==m?"off":"on"),Object(a.useEffect)(()=>{const e=new MutationObserver(B);return e.observe(F.current,{attributes:!0,attributeFilter:["style"]}),B(),()=>{e.disconnect()}},[]),Object(a.useEffect)(()=>(window.addEventListener("resize",M),()=>{window.removeEventListener("resize",M)}),[]),Object(a.useEffect)(()=>{if(y.current){const e=F.current,t=y.current,n=t.newSelectionStart,a=t.newSelectionEnd,r=t.newScrollTop,i=t.newScrollLeft,l=t.iniSelectionStart,o=t.iniSelectionEnd,c=t.iniScrollTop,s=t.iniScrollLeft;y.current.valid?(e.selectionStart=n,e.selectionEnd=a,e.scrollTop=r,e.scrollLeft=i):(e.selectionStart=l,e.selectionEnd=o,e.scrollTop=c,e.scrollLeft=s)}},[T]),Object(a.useEffect)(()=>{t&&(t.current=F.current)},[]),Object(a.useEffect)(()=>{K({key:""}),P(T.value,u),y.current.valid=!0,y.current.unformatedValue=void 0,z()},[u]),r.a.createElement("div",{onClick:function(e){e.target!==F.current&&F.current.focus()}},n||null,r.a.createElement("textarea",Object.assign({ref:F,className:l},k,{rows:function(){if(g)return g;const e=T.lineCount;return v&&e>v?v:d&&e<d?d:e}(),value:T.value,onChange:function(e){P(T.value,e.target.value);const t=y.current,n=t.newLineCount,a=t.excessIsShrinking;y.current.valid=!(m&&n>m&&!a),z()},onBlur:function(){if("string"===typeof D){const e=y.current.unformatedValue;c({[D]:e||T.value,differFromInitial:u!==(e||T.value),name:D,unformatedValue:e,value:T.value})}},onKeyDown:K})),r.a.createElement("textarea",{ref:L,style:{position:"absolute",paddingTop:"0px",paddingBottom:"0px",border:"0px solid #000000",resize:"none",visibility:"hidden"},disabled:!0,rows:1,cols:k.cols,wrap:1==m?1==j?"on":"off":k.wrap}),r.a.createElement("p",{ref:O,style:{position:"absolute",paddingTop:"0px",paddingBottom:"0px",border:"0px solid #000000",visibility:"hidden"}},"1"),i||null)})),E=n(85),S=n(8),w=n(84);function x({serverState:e,updateServer:t}){return r.a.createElement("div",{className:"container"},r.a.createElement("h4",null,"Expand-shrink example"),r.a.createElement(g,{placeholder:"Type here",initialValue:e,submitValue:function({name:e,value:n,differFromInitial:a}){if(a)switch(e){case"expandShrink":t(n);default:return}},totalLines:5,name:"expandShrink",minRows:1,maxRows:5}),r.a.createElement("h4",null,"Code"),r.a.createElement(E.a,{className:"code-style",language:"jsx",style:w.a,showLineNumbers:"true"},"\n  const [state, setState] = useState('')\n  function handleSubmit({ name, value, differFromInitial }) {\n    if (!differFromInitial) return\n    switch (name) {\n      case 'expandShrink':\n        setState(value)\n      default:\n        return\n    }\n  }\n  return (\n    <div className='container'>\n      <h4>Expand-shrink example</h4>\n      <ExpandableTextarea\n        placeholder='Type here'\n        initialValue={state}\n        submitValue={handleSubmit}\n        totalLines={5}\n        name='expandShrink'\n        minRows={1}\n        maxRows={5}\n      />\n    </div>\n  )\n      "),r.a.createElement("div",{className:"links"},r.a.createElement("a",{href:"https://github.com/makannew/expandable-textarea"},"Github"),r.a.createElement("a",{href:"https://www.npmjs.com/package/expandable-textarea"},"npm package")))}function j(){const e=Object(a.useState)(""),t=Object(o.a)(e,2),n=t[0],i=t[1];return r.a.createElement("div",{className:"container"},r.a.createElement("h4",null,"Input-like-field example"),r.a.createElement(g,{className:"fixed-height",placeholder:"Type here",initialValue:n,submitValue:function({name:e,value:t,differFromInitial:n}){if(n)switch(e){case"inputLikeField":i(t);default:return}},rows:1,totalLines:1,name:"inputLikeField"}),r.a.createElement("h4",null,"Code"),r.a.createElement(E.a,{className:"code-style",language:"jsx",style:w.a,showLineNumbers:"true"},"\n<ExpandableTextarea\n  placeholder='Type here'\n  initialValue={state}\n  submitValue={handleSubmit}\n  rows={1}\n  totalLines={1}\n  name='inputLikeField'\n/>\n      "))}function k(){const e=Object(a.useState)(""),t=Object(o.a)(e,2),n=t[0],i=t[1];const l=v({maskString:"!!!!-!!!!-!!!!-!!!!",replaceChar:"!",validChar:/\d/g,preVisibleMask:!0,rightToLeft:!1});return r.a.createElement("div",{className:"container"},r.a.createElement("h4",null,"Credit card format example"),r.a.createElement(g,{className:"fixed-height",placeholder:"Credit card number",initialValue:n,submitValue:function({name:e,value:t,differFromInitial:n}){if(n)switch(e){case"creditCardFormat":i(t);default:return}},rows:1,totalLines:1,formatFunction:l,name:"creditCardFormat"}),r.a.createElement("h4",null,"Code"),r.a.createElement(E.a,{className:"code-style",language:"jsx",style:w.a,showLineNumbers:"true"},"\nimport React, { useState } from 'react'\nimport ExpandableTextarea, { maskFormating } from 'expandable-textarea'\n\nexport default function CreditCardFormat() {\n  const [state, setState] = useState('')\n  function handleSubmit({ name, value, differFromInitial }) {\n    if (!differFromInitial) return\n    switch (name) {\n      case 'creditCardFormat':\n        setState(value)\n      default:\n        return\n    }\n  }\n  const creditCardFormat = maskFormating({\n    maskString: '!!!!-!!!!-!!!!-!!!!',\n    replaceChar: '!',\n    validChar: /d/g,\n    preVisibleMask: true,\n    rightToLeft: false\n  })\n\n  return (\n    <div className='container'>\n      <h4>Credit card format example</h4>\n      <ExpandableTextarea\n        placeholder='Type here'\n        initialValue={state}\n        submitValue={handleSubmit}\n        rows={1}\n        totalLines={1}\n        formatFunction={creditCardFormat}\n        name='creditCardFormat'\n      />\n\n    </div>\n  )\n}\n"))}function F(){const e=Object(a.useState)(""),t=Object(o.a)(e,2),n=t[0],i=t[1];const l=v({maskString:"(!!) !!!! !!!!",replaceChar:"!",validChar:/\d/g,preVisibleMask:!1,rightToLeft:!1});return r.a.createElement("div",{className:"container"},r.a.createElement("h4",null,"Phone format example"),r.a.createElement(g,{placeholder:"Phone number",className:"fixed-height",initialValue:n,submitValue:function({name:e,value:t,differFromInitial:n}){if(n)switch(e){case"phoneFormat":i(t);default:return}},rows:1,totalLines:1,formatFunction:l,name:"phoneFormat"}),r.a.createElement("h4",null,"Code"),r.a.createElement(E.a,{className:"code-style",language:"jsx",style:w.a,showLineNumbers:"true"},"\nimport React, { useState } from 'react'\nimport ExpandableTextarea, { maskFormating } from 'expandable-textarea'\n\nexport default function PhoneFormat() {\n  const [state, setState] = useState('')\n  function handleSubmit({ name, value, differFromInitial }) {\n    if (!differFromInitial) return\n    switch (name) {\n      case 'phoneFormat':\n        setState(value)\n      default:\n        return\n    }\n  }\n\n  const phoneFormat = maskFormating({\n    maskString: '(!!) !!!! !!!!',\n    replaceChar: '!',\n    validChar: /d/g,\n    preVisibleMask: false,\n    rightToLeft: false\n  })\n\n  return (\n    <div className='container'>\n      <h4>Credit card format example</h4>\n      <ExpandableTextarea\n        placeholder='Type here'\n        initialValue={state}\n        submitValue={handleSubmit}\n        rows={1}\n        totalLines={1}\n        formatFunction={phoneFormat}\n        name='phoneFormat'\n      />\n    </div>\n  )\n}\n"))}function L(){const e=Object(a.useState)(""),t=Object(o.a)(e,2),n=t[0],i=t[1];const l=function(e=/[^\*]/g,t="*"){return n=>{let a,r,i=n.pressedKey,l=n.newSelectionStart,o=n.newSelectionEnd,c=n.newValue,s=n.valid,u=n.unformatedValue,m=n.iniSelectionStart,d=n.iniSelectionEnd;if(!s)return Object(h.a)({},n);void 0===u?(r=c,a="",l=c.length,o=c.length):(r=u,a=(c.match(e)||[""]).join(""));let f=0,p=0;const b=m===d;return"Delete"===i&&b&&(f=1),"Backspace"===i&&b&&(p=1),r=r.slice(0,m-p)+a+r.slice(d+f),Object(h.a)(Object(h.a)({},n),{},{unformatedValue:r,newValue:r.replace(/./g,t),newSelectionStart:l,newSelectionEnd:o})}}(/[^\-]/,"-");return r.a.createElement("div",{className:"container"},r.a.createElement("h4",null,"Password format example"),r.a.createElement(g,{className:"fixed-height",placeholder:"Password",initialValue:n,submitValue:function({name:e,value:t,differFromInitial:n}){if(n)switch(e){case"passwordFormat":i(t);default:return}},rows:1,totalLines:1,formatFunction:l,name:"passwordFormat"}),r.a.createElement("h4",null,"Code"),r.a.createElement(E.a,{className:"code-style",language:"jsx",style:w.a,showLineNumbers:"true"},"\nimport React, { useState } from 'react'\nimport ExpandableTextarea, { passwordFormating } from 'expandable-textarea'\n\nexport default function PasswordFormat() {\n  const [state, setState] = useState('')\n  function handleSubmit({ name, value, differFromInitial }) {\n    if (!differFromInitial) return\n    switch (name) {\n      case 'passwordFormat':\n        setState(value)\n      default:\n        return\n    }\n  }\n\n  const passwordFormat = passwordFormating(/[^-]/, '-')\n\n  return (\n    <div className='container'>\n      <h4>Password format example</h4>\n      <ExpandableTextarea\n        placeholder='Type here'\n        initialValue={state}\n        submitValue={handleSubmit}\n        rows={1}\n        totalLines={1}\n        formatFunction={passwordFormat}\n        name='passwordFormat'\n      />\n    </div>\n  )\n}\n"))}E.a.registerLanguage("jsx",S.a),E.a.registerLanguage("jsx",S.a),E.a.registerLanguage("jsx",S.a),E.a.registerLanguage("jsx",S.a),E.a.registerLanguage("jsx",S.a);var O=n(19),y=n.n(O),V=n(20);function C({serverState:e}){const t=Object(a.useRef)(),n=Object(a.useRef)(),i=Object(V.a)((function(){t.current.className=y.a.updating,n.current.innerHTML="Updating..."})),l=Object(o.a)(i,1)[0],c=Object(V.a)((function(){t.current.className=y.a["just-updated"],n.current.innerHTML="Done",t.current.innerHTML=e}),1200),s=Object(o.a)(c,1)[0],u=Object(V.a)((function(){n.current.innerHTML="Mockup server",t.current.className=""}),800),m=Object(o.a)(u,1)[0];return Object(a.useEffect)(()=>{l().then(s).then(m)},[e]),r.a.createElement("div",{className:y.a["mockup-server"]},r.a.createElement("h5",{ref:n},"Mockup server"),r.a.createElement("div",{className:"page-divider"}),r.a.createElement("p",{ref:t}))}var N=function(){const e=Object(a.useState)(""),t=Object(o.a)(e,2),n=t[0],i=t[1];return r.a.createElement(c.a,null,r.a.createElement("div",{className:"top-panel"},r.a.createElement(d,null),r.a.createElement(C,{serverState:n})),r.a.createElement(s.c,null,r.a.createElement(s.a,{exact:!0,path:"/",component:d}),r.a.createElement(s.a,{path:"/expand-shrink",render:()=>r.a.createElement(x,{serverState:n,updateServer:i})}),r.a.createElement(s.a,{path:"/input-like-field",component:j}),r.a.createElement(s.a,{path:"/credit-card-format",component:k}),r.a.createElement(s.a,{path:"/phone-format",component:F}),r.a.createElement(s.a,{path:"/password-format",component:L})))};l.a.render(r.a.createElement(N,null),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.3588b27a.chunk.js.map